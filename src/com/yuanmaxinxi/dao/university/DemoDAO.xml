<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yuanmaxinxi.dao.university.DemoDAO">
    <select id="selectCount" parameterType="com.yuanmaxinxi.dto.MyBatisQueryPageDTO" resultType="int">
        select count(id) from t_university
        <include refid="whereSql"></include>
    </select>
    <select id="queryPage" parameterType="com.yuanmaxinxi.dto.MyBatisQueryPageDTO" resultType="University">
        select * from t_university <include refid="whereSql"></include> 
        	order by ranking is null,ranking limit #{beginIndex},#{pageSize}
    </select>
    <sql id="whereSql">
        <where>
			 <if test="name!=null and name != ''">
			     and instr(name,#{name})
			 </if> 
			 <if test="record!=null and record != ''">
			     and record = #{record}
			 </if>          
			 <if test="property!=null and property!=''">
			     and property = #{property}
			 </if>
<!-- 			 &lt; 小于 -->
			 <if test="pId!=null and pId &gt; 0">
			     and pId = #{pId}
			 </if>
			 <if test="f211!=-1">
			     and f211 = #{f211}
			 </if>
			 <if test="f985!=-1">
			     and f985 = #{f985}
			 </if>
			 <if test="ranking1 &gt; 0">
			     and ranking &gt;=#{ranking1}
			 </if>
			 <if test="ranking2 &gt; 0">
			     and ranking &lt;= #{ranking2}
			 </if>
        </where>
    </sql>
</mapper>